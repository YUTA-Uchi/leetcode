URL:https://leetcode.com/problems/two-sum/

# Step1

- 使用言語：c言語(近いうちにC＋＋にする予定ですが、一旦比較的慣れているCにしました)
- コードのNote、関数のプロトタイプは問題そのまま。引数名だけ統一のため変更しています(スネークケースへ)
- 所要時間：骨格部分は2~5分(しかしreturn_sizeの使用意図などに悩んで調べたりしたため最終的にはもっと多くかかっている)

```C
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* twoSum(int* nums, int nums_size, int target, int* return_size)
{
	int i;
	int j;
	int *indice_of_sum;

	for (i = 0; i < nums_size; i++)
	{
		for (j = i + 1; j < nums_size; j++)
		{
			if (target - nums[i] == nums[j])
			{
				*return_size = 2;
				indice_of_sum = (int*)malloc(sizeof(int) * (*return_size));
				if (!indice_of_sum)
				{
					*return_size = 0;
					return (NULL);
				}
				indice_of_sum[0] = i;
				indice_of_sum[1] = j;
				return (indice_of_sum);
			}
		}
	}
	*return_size = 0;
	return (NULL);
}
```

## 思考過程
- 問題だけ読んだ時は、愚直な解答(上記解答)はすぐ書けると考えました。
- 問題文から31>log2(10^9)/log2(10)(約29)なのでintで問題なさそうと考えました。31という数字の根拠はintは基本的に32bitであり、先頭1bitは符号に使われるため2^31でOKだろうという判断です。
- ただし、条件判定の際にオーバーフローしないようにしなければならないと考えました。(line23のif文はオーバーフロー対策の意図です)
- Follow-upに書かれているO(n^2)より少ない時間計算量という要件のアルゴリズムは浮かびませんでした。
- その後家に帰宅後実際に実装しようとして、初めてC言語の場合のプロトタイプを確認。引数のreturn_sizeの使用意図がわからず、そこだけ他の方のSolutionsを確認してAcceptedまでもっていきました。
	- コーディング面接などであれば意図を確認してもいいだろうと思います。つまり、どのような呼び出され方を想定しており、return_sizeの使用はどのようにされるか、などです。どのような意図だと想定できるかと聞かれるかもなので、以下のような使用を想定しました。(ただし、自分が呼び出しも含め設計する場合、エラーチェックをしたいので後者のようになり、あまりreturn_sizeに意味が見いだせなくなります。)
	```C
	result = twoSum(nums, nums_size, target, &return_size);
	i = 0;
	while (i < return_size)
		//なんらかの処理
	```
	```C
	result = twoSum(nums, nums_size, target, &return_size);
	if (result)
		i = 0;
		while (i < return_size)
			//なんらかの処理
	else
		//エラー処理
	```
	- 他の方の実装をみると、実際そこに迷っている人もちらほらいました。そして、結局確定的な意図はわからないものの、[mediumの記事](https://medium.com/@AlexanderObregon/solving-the-two-sum-problem-on-leetcode-c-answers-walkthrough-715066492a7a)で正解が見つからなかったときなどに*return_sizeに0を代入している実装を見て、上記のような想定に合致すると感じました(URL先の方はmalloc失敗の場合はエラーハンドリングしていないですが)
- ここまで考えた後、最悪のケースの足し算でも10^9 + 10^9か-10^9 + -10^9なのでオーバーフローの心配はないことに気づきました。そのためline23のif文は元の意図がわかりやすく
```C
if (nums[i] + nums[j] == target)
```
でよいと考えました。


